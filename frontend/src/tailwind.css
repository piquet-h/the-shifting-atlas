@tailwind base;
@tailwind components;
@tailwind utilities;

/* Keep Tailwind base and allow theme tokens (atlas.*) from config to drive utilities. */
@layer base {
    html,
    body,
    #root {
        height: 100%;
    }

    /* Apply Tailwind theme utilities so the actual hex values live in tailwind.config.js */
    body {
        @apply bg-atlas-bg text-slate-100 antialiased;
    }
}

/* Progressive enhancement layer: only applies visual sugar at larger breakpoints or with capable input devices. */
@layer components {
    /* Focus ring refinement for keyboard users (using :focus-visible) */
    .focus-outline-enhanced:focus-visible {
        @apply outline-none ring-2 ring-atlas-accent ring-offset-2 ring-offset-atlas-bg;
    }

    /* Page container with gradient background - used across all page layouts */
    .page-container {
        @apply min-h-screen p-5 text-slate-100 bg-gradient-to-b from-atlas-bg to-atlas-bgDark;
    }

    /* Card/section component with glass morphism effect - used for content sections */
    .card {
        @apply p-4 rounded-lg bg-white/5 ring-1 ring-white/10;
    }

    /* Inline code snippet styling - used for command references */
    .code-inline {
        @apply px-1 rounded bg-slate-700/70 text-slate-100;
    }

    /* Primary button with gradient and focus states - used for CTAs */
    .btn-primary {
        @apply px-6 py-3 rounded-lg font-semibold bg-gradient-to-r from-atlas-accent to-green-400 text-emerald-900 shadow focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-white focus-visible:ring-offset-atlas-bg;
    }
}

@layer utilities {
    /* Utility to clamp heading size for large screens */
    .heading-clamp {
        font-size: clamp(1.75rem, 1.2rem + 1.5vw, 2.5rem);
        line-height: 1.1;
    }

    /* Responsive text utilities using clamp() for fluid typography */
    .text-responsive-sm {
        font-size: clamp(0.75rem, 0.7rem + 0.25vw, 0.875rem);
    }

    .text-responsive-base {
        font-size: clamp(0.875rem, 0.8rem + 0.35vw, 1rem);
    }

    .text-responsive-lg {
        font-size: clamp(1rem, 0.9rem + 0.5vw, 1.125rem);
    }

    .text-responsive-xl {
        font-size: clamp(1.125rem, 1rem + 0.6vw, 1.25rem);
    }

    .text-responsive-2xl {
        font-size: clamp(1.25rem, 1.1rem + 0.75vw, 1.5rem);
    }

    /* Touch-friendly minimum touch target size utility */
    .touch-target {
        min-height: 44px;
        min-width: 44px;
    }

    /* Constrain max content width on ultra-wide screens */
    .max-w-readable {
        max-width: min(100%, 75ch);
    }
}
