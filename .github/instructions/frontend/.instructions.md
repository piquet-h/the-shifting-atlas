---
description: Frontend module UI & client architectural deltas
applyTo: 'frontend/**'
---

# Frontend module instructions (Vite + React + Tailwind)

These rules apply to anything under `frontend/`.

## Architecture (current)

- SPA built with **Vite + React 18 + TypeScript + Tailwind**.
- Routing via **react-router-dom**.
- Data fetching/caching via **@tanstack/react-query**.
- Backend API is reached through the **SWA / Vite proxy** on the **`/api`** path.

Authoritative reference: `frontend/README.md`.

## API calls

- Prefer the centralized helpers:
    - `frontend/src/utils/apiClient.ts` (URLs, headers, GUID validation, request builders)
    - `frontend/src/utils/apiResponse.ts` (error extraction)
- Default base path is `/api` (overridable for local dev via env). Do not hardcode absolute hostnames.
- Keep network logic out of UI components: prefer hooks in `frontend/src/hooks/` and thin service modules in `frontend/src/services/`.

## Styling & UI

- Tailwind utilities are the default. Avoid introducing CSS modules / styled-components unless there’s a clear, reviewed reason.
- Accessibility is non-negotiable:
    - semantic HTML landmarks
    - keyboard navigation
    - ARIA only when needed
    - keep focus management explicit for route changes

## Telemetry

- Use the existing telemetry adapter: `frontend/src/services/telemetry.ts`.
- Do not inline ad-hoc event names; use shared telemetry conventions/constants.

## Testing expectations

- Unit tests: Vitest (`frontend/test/**`).
- E2E: Playwright (`frontend/e2e/**`).
- A11y: axe scan scripts (`npm run a11y`).

When changing runtime behavior, add/adjust tests (TDD where applicable).

## Verification gate (CI must be green)

For any change under `frontend/`, you MUST ensure these checks pass before considering work “done”:

- Lint: `npm run lint:frontend` (repo root) OR `npm run lint` (in `frontend/`)
- Typecheck: `npm run typecheck:frontend` (repo root) OR `npm run typecheck` (in `frontend/`)

If CI fails for frontend lint/typecheck/tests, you MUST push follow-up commits until required checks are green.

---

Last reviewed: 2026-01-15
